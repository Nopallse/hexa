import{j as e,T as r,B as i,v as h,q as u,r as o,ab as p,C as j,z as f}from"./index-NjOUpROL.js";import{g as k}from"./image-DX-k4_re.js";import{C,a as b}from"./CardContent-DjhJP1Qj.js";import{C as y}from"./CardActionArea-CbYKALq0.js";import{C as v}from"./CardMedia-CN5Tfa3C.js";import{A as w}from"./Alert-B1gb4VHd.js";import"./useSlot-Cabyblz0.js";function A({category:t,onClick:s}){const l=()=>{s(t)};return e.jsx(C,{sx:{height:"100%",transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:n=>n.shadows[8]}},children:e.jsxs(y,{onClick:l,sx:{height:"100%"},children:[e.jsx(v,{component:"img",height:"180",image:k(t.image),alt:t.name,sx:{objectFit:"cover",bgcolor:"grey.100"}}),e.jsxs(b,{sx:{p:3},children:[e.jsx(r,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical"},children:t.name}),t.description&&e.jsx(r,{variant:"body2",color:"textSecondary",sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",mb:2,minHeight:40},children:t.description}),e.jsx(i,{sx:{mt:2},children:e.jsx(h,{label:`${t.products?.length||0} produk`,size:"small",color:"primary",variant:"outlined"})})]})]})})}function z(){const t=u(),[s,l]=o.useState([]),[n,c]=o.useState(!0),[x,d]=o.useState(null),g=async()=>{try{c(!0),d(null);const a=await f.getCategories();if(a.success)l(a.data);else throw new Error("Failed to fetch categories")}catch(a){d(a.message||"Gagal memuat data kategori")}finally{c(!1)}};o.useEffect(()=>{g()},[]);const m=a=>{t(`/categories/${a.id}`)};return n?e.jsx(p,{message:"Memuat kategori..."}):e.jsxs(j,{maxWidth:"lg",sx:{py:8},children:[e.jsxs(i,{sx:{textAlign:"center",mb:6},children:[e.jsx(r,{variant:"h3",fontWeight:"bold",gutterBottom:!0,children:"Jelajahi Kategori"}),e.jsx(r,{variant:"h6",color:"textSecondary",children:"Temukan produk rajutan sesuai dengan kategori yang Anda inginkan"})]}),x&&e.jsx(w,{severity:"error",sx:{mb:4},onClose:()=>d(null),children:x}),s.length===0&&!n?e.jsxs(i,{sx:{textAlign:"center",py:8},children:[e.jsx(r,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"Belum ada kategori tersedia"}),e.jsx(r,{variant:"body2",color:"textSecondary",children:"Kategori akan segera tersedia. Silakan kembali lagi nanti."})]}):e.jsx(i,{sx:{display:"flex",flexWrap:"wrap",gap:3,justifyContent:"center"},children:s.map(a=>e.jsx(i,{sx:{flex:{xs:"1 1 100%",sm:"1 1 45%",md:"1 1 30%",lg:"1 1 22%"},minWidth:250,maxWidth:300},children:e.jsx(A,{category:a,onClick:m})},a.id))}),e.jsxs(i,{sx:{textAlign:"center",mt:8},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Tidak menemukan kategori yang Anda cari?"}),e.jsx(r,{variant:"body2",color:"textSecondary",children:"Hubungi kami untuk permintaan khusus atau saran kategori baru"})]})]})}export{z as default};
