import{aa as m,ab as n}from"./index-DVLSGWYZ.js";const u=m()(n((e,s)=>({items:[],loading:!1,error:null,setItems:t=>e({items:t}),addItem:t=>e(r=>r.items.find(a=>a.product_variant_id===t.product_variant_id)?{items:r.items.map(a=>a.product_variant_id===t.product_variant_id?{...a,quantity:a.quantity+t.quantity}:a)}:{items:[...r.items,t]}),updateItem:(t,r)=>e(i=>({items:i.items.map(a=>a.id===t?{...a,quantity:r}:a)})),removeItem:t=>e(r=>({items:r.items.filter(i=>i.id!==t)})),clearCart:()=>e({items:[]}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),getTotalItems:()=>{const{items:t}=s();return t.reduce((r,i)=>r+i.quantity,0)},getTotalPrice:()=>{const{items:t}=s();return t.reduce((r,i)=>r+parseFloat(i.product_variant.price)*i.quantity,0)}}),{name:"cart-storage",partialize:e=>({items:e.items})}));export{u};
