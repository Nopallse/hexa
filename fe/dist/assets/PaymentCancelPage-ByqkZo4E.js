import{u as I,a as W,O as P,r as i,j as a,B as n,T as e,C as m,b as o,a0 as j,S as y,W as u}from"./index-BNHkdQXN.js";import{o as A}from"./orderApi-DClAlQUc.js";import{A as p}from"./Alert-CGwzUP-j.js";import{C as w}from"./Cancel-DabKEnBc.js";import{C as O,a as S}from"./CardContent-Xxy-Rqsq.js";function z(){I();const d=W(),[g]=P(),r=g.get("order_id"),[s,f]=i.useState(null),[b,c]=i.useState(!0),[x,l]=i.useState(null),k=async()=>{if(!r){l("Order ID tidak ditemukan"),c(!1);return}try{c(!0);const t=await A.getOrderById(r);t.success?f(t.data):l("Order tidak ditemukan")}catch(t){console.error("Error fetching order:",t),l(t.response?.data?.error||"Gagal memuat order")}finally{c(!1)}};i.useEffect(()=>{k()},[r]);const v=()=>{r&&d(`/payment/${r}`)},h=()=>{d("/")},C=()=>{d("/cart")};return b?a.jsx(n,{sx:{minHeight:"100vh",py:8,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(e,{children:"Memuat..."})}):x||!s?a.jsx(n,{sx:{minHeight:"100vh",py:8},children:a.jsxs(m,{maxWidth:"md",children:[a.jsx(p,{severity:"error",sx:{maxWidth:600,mx:"auto"},children:x||"Order tidak ditemukan"}),a.jsx(n,{sx:{textAlign:"center",mt:4},children:a.jsx(o,{variant:"contained",onClick:h,startIcon:a.jsx(j,{}),children:"Kembali ke Beranda"})})]})}):a.jsx(n,{sx:{minHeight:"100vh",py:8},children:a.jsxs(m,{maxWidth:"md",children:[a.jsxs(n,{sx:{textAlign:"center",mb:6},children:[a.jsx(w,{sx:{fontSize:80,color:"error.main",mb:3}}),a.jsx(e,{variant:"h3",fontWeight:700,color:"error.main",sx:{mb:2},children:"Pembayaran Dibatalkan"}),a.jsx(e,{variant:"h6",color:"text.secondary",children:"Pembayaran Anda telah dibatalkan. Tidak ada biaya yang dikenakan."})]}),a.jsx(O,{sx:{mb:4},children:a.jsxs(S,{sx:{p:4},children:[a.jsx(e,{variant:"h6",fontWeight:600,sx:{mb:3},children:"Detail Pesanan"}),a.jsxs(y,{spacing:2,children:[a.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[a.jsx(e,{variant:"body1",color:"text.secondary",children:"Order ID:"}),a.jsx(e,{variant:"body1",fontWeight:500,children:s.id})]}),a.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[a.jsx(e,{variant:"body1",color:"text.secondary",children:"Total Pesanan:"}),a.jsxs(e,{variant:"h6",fontWeight:600,color:"primary.main",children:["$",(s.total_amount+s.shipping_cost).toFixed(2)]})]}),a.jsxs(n,{sx:{display:"flex",justifyContent:"space-between"},children:[a.jsx(e,{variant:"body1",color:"text.secondary",children:"Status:"}),a.jsx(e,{variant:"body1",fontWeight:500,color:"warning.main",children:"Pembayaran Dibatalkan"})]})]})]})}),a.jsx(p,{severity:"warning",sx:{mb:4},children:a.jsx(e,{variant:"body2",children:"Pesanan Anda masih tersimpan dan dapat dilanjutkan pembayarannya kapan saja. Anda juga dapat mengubah metode pembayaran atau membatalkan pesanan."})}),a.jsxs(y,{direction:{xs:"column",sm:"row"},spacing:2,justifyContent:"center",children:[a.jsx(o,{variant:"contained",size:"large",startIcon:a.jsx(u,{}),onClick:v,sx:{px:4,py:1.5,borderRadius:2,fontWeight:600},children:"Coba Bayar Lagi"}),a.jsx(o,{variant:"outlined",size:"large",startIcon:a.jsx(u,{}),onClick:C,sx:{px:4,py:1.5,borderRadius:2,fontWeight:600},children:"Lihat Keranjang"}),a.jsx(o,{variant:"outlined",size:"large",startIcon:a.jsx(j,{}),onClick:h,sx:{px:4,py:1.5,borderRadius:2,fontWeight:600},children:"Kembali ke Beranda"})]})]})})}export{z as default};
