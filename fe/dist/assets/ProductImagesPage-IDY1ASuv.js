import{Q as b,a as P,ar as I,r as e,j as t,Y as v,C as u,B as s,b as x,$ as p,a0 as B,aq as h,T as o}from"./index-DVLSGWYZ.js";import{p as S}from"./productApi-BSs2_-SD.js";import{P as C}from"./ProductImageManager-tlfB_U3e.js";import{A as w}from"./Alert-DeMLxQ5q.js";import{A as f}from"./ArrowBack-BbA3cZTo.js";import{B as A}from"./Breadcrumbs-CTwzKUk5.js";import"./image-CL12PwSa.js";import"./CardContent-DCJIVk1m.js";import"./CloudUpload-0e-80NAQ.js";import"./Star-r6EW3B_C.js";import"./Tooltip-DSIJX8Rn.js";import"./Edit-DzfA9IsF.js";import"./Delete-4b1S9yqQ.js";import"./DialogTitle-DvisQaRg.js";function U(){const{id:i}=b(),n=P(),{showNotification:g}=I(),[a,j]=e.useState(null),[k,d]=e.useState(!0),[l,c]=e.useState(null),y=async()=>{if(!i){c("ID produk tidak ditemukan"),d(!1);return}try{d(!0),c(null);const r=await S.getProductById(i);if(r.success)j(r.data);else throw new Error(r.message||"Produk tidak ditemukan")}catch(r){c(r.message||"Gagal memuat data produk"),g({type:"error",message:r.message||"Gagal memuat data produk"})}finally{d(!1)}};e.useEffect(()=>{y()},[i]);const m=()=>{n("/admin/products")};return k?t.jsx(v,{}):l||!a?t.jsx(u,{maxWidth:!1,children:t.jsxs(s,{sx:{py:4},children:[t.jsx(w,{severity:"error",sx:{mb:3},children:l||"Produk tidak ditemukan"}),t.jsx(x,{variant:"outlined",startIcon:t.jsx(f,{}),onClick:m,children:"Kembali ke Daftar Produk"})]})}):t.jsx(u,{maxWidth:!1,children:t.jsxs(s,{sx:{py:4},children:[t.jsxs(A,{sx:{mb:3},children:[t.jsxs(p,{component:"button",variant:"body1",color:"inherit",onClick:()=>n("/admin"),sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(B,{fontSize:"small"}),"Dashboard"]}),t.jsxs(p,{component:"button",variant:"body1",color:"inherit",onClick:()=>n("/admin/products"),sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(h,{fontSize:"small"}),"Produk"]}),t.jsxs(o,{color:"textPrimary",sx:{display:"flex",alignItems:"center",gap:.5},children:[t.jsx(h,{fontSize:"small"}),"Gambar Produk"]})]}),t.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2,mb:4},children:[t.jsx(x,{variant:"outlined",startIcon:t.jsx(f,{}),onClick:m,sx:{minWidth:"auto"},children:"Kembali"}),t.jsxs(s,{children:[t.jsx(o,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"Kelola Gambar Produk"}),t.jsx(o,{variant:"h6",color:"textSecondary",children:a.name}),a.category&&t.jsxs(o,{variant:"body2",color:"textSecondary",children:["Kategori: ",a.category.name]})]})]}),t.jsx(C,{productId:a.id,productName:a.name})]})})}export{U as default};
