import{k as xe,l as ge,r as c,m as ve,_ as ie,o as m,t as F,j as o,s as Y,a5 as Ne,v as Se,w as Fe,ac as at,ad as $e,ae as He,af as Xe,ag as ae,u as ye,ah as be,ai as it,S as V,B as z,T as k,e as ze,R as ct,W as dt,b as Oe,a as ut,C as pt,$ as he,a0 as ft}from"./index-BNHkdQXN.js";import{o as Ue}from"./orderApi-DClAlQUc.js";import{u as bt}from"./orderStore-DYwxBvNT.js";import{C as ht,a as mt}from"./CardContent-Xxy-Rqsq.js";import{V as xt}from"./Visibility-pX7bN8d5.js";import{C as gt}from"./Cancel-DabKEnBc.js";import{B as vt}from"./Breadcrumbs-CE1cFXMC.js";import{S as St}from"./ShoppingBag-DgwuEhNk.js";import{O as Le}from"./Receipt-DHsC4Of4.js";import{A as yt}from"./Alert-CGwzUP-j.js";import{K as Ct,a as wt}from"./KeyboardArrowRight-CkSo5XDM.js";import{P as Bt}from"./Pagination-QF9ODMfb.js";import{S as jt}from"./Skeleton-C7Iai6me.js";import"./LastPage-DHkSoxah.js";let q;function Ve(){if(q)return q;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),q="reverse",e.scrollLeft>0?q="default":(e.scrollLeft=1,e.scrollLeft===0&&(q="negative")),document.body.removeChild(e),q}function It(e,t){const n=e.scrollLeft;if(t!=="rtl")return n;switch(Ve()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function Tt(e){return ge("MuiTab",e)}const N=xe("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),kt=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Wt=e=>{const{classes:t,textColor:n,fullWidth:i,wrapped:l,icon:a,label:b,selected:h,disabled:f}=e,y={root:["root",a&&b&&"labelIcon",`textColor${Ne(n)}`,i&&"fullWidth",l&&"wrapped",h&&"selected",f&&"disabled"],iconWrapper:["iconWrapper"]};return Se(y,Tt,t)},Rt=Y(Fe,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${Ne(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${N.iconWrapper}`]:t.iconWrapper}]}})(({theme:e,ownerState:t})=>m({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${N.iconWrapper}`]:m({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${N.selected}`]:{opacity:1},[`&.${N.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${N.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${N.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${N.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${N.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),Et=c.forwardRef(function(t,n){const i=ve({props:t,name:"MuiTab"}),{className:l,disabled:a=!1,disableFocusRipple:b=!1,fullWidth:h,icon:f,iconPosition:y="top",indicator:S,label:w,onChange:v,onClick:C,onFocus:u,selected:W,selectionFollowsFocus:I,textColor:_="inherit",value:R,wrapped:B=!1}=i,x=ie(i,kt),T=m({},i,{disabled:a,disableFocusRipple:b,selected:W,icon:!!f,iconPosition:y,label:!!w,fullWidth:h,textColor:_,wrapped:B}),K=Wt(T),$=f&&w&&c.isValidElement(f)?c.cloneElement(f,{className:F(K.iconWrapper,f.props.className)}):f,te=O=>{!W&&v&&v(O,R),C&&C(O)},G=O=>{I&&!W&&v&&v(O,R),u&&u(O)};return o.jsxs(Rt,m({focusRipple:!b,className:F(K.root,l),ref:n,role:"tab","aria-selected":W,disabled:a,onClick:te,onFocus:G,ownerState:T,tabIndex:W?0:-1},x,{children:[y==="top"||y==="start"?o.jsxs(c.Fragment,{children:[$,w]}):o.jsxs(c.Fragment,{children:[w,$]}),S]}))});function Pt(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function Mt(e,t,n,i={},l=()=>{}){const{ease:a=Pt,duration:b=300}=i;let h=null;const f=t[e];let y=!1;const S=()=>{y=!0},w=v=>{if(y){l(new Error("Animation cancelled"));return}h===null&&(h=v);const C=Math.min(1,(v-h)/b);if(t[e]=a(C)*(n-f)+f,C>=1){requestAnimationFrame(()=>{l(null)});return}requestAnimationFrame(w)};return f===n?(l(new Error("Element already at target position")),S):(requestAnimationFrame(w),S)}const zt=["onChange"],Ot={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Lt(e){const{onChange:t}=e,n=ie(e,zt),i=c.useRef(),l=c.useRef(null),a=()=>{i.current=l.current.offsetHeight-l.current.clientHeight};return at(()=>{const b=$e(()=>{const f=i.current;a(),f!==i.current&&t(i.current)}),h=He(l.current);return h.addEventListener("resize",b),()=>{b.clear(),h.removeEventListener("resize",b)}},[t]),c.useEffect(()=>{a(),t(i.current)},[t]),o.jsx("div",m({style:Ot},n,{ref:l}))}function _t(e){return ge("MuiTabScrollButton",e)}const Dt=xe("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),At=["className","slots","slotProps","direction","orientation","disabled"],Nt=e=>{const{classes:t,orientation:n,disabled:i}=e;return Se({root:["root",n,i&&"disabled"]},_t,t)},Ft=Y(Fe,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})(({ownerState:e})=>m({width:40,flexShrink:0,opacity:.8,[`&.${Dt.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),$t=c.forwardRef(function(t,n){var i,l;const a=ve({props:t,name:"MuiTabScrollButton"}),{className:b,slots:h={},slotProps:f={},direction:y}=a,S=ie(a,At),w=Xe(),v=m({isRtl:w},a),C=Nt(v),u=(i=h.StartScrollButtonIcon)!=null?i:Ct,W=(l=h.EndScrollButtonIcon)!=null?l:wt,I=ae({elementType:u,externalSlotProps:f.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v}),_=ae({elementType:W,externalSlotProps:f.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v});return o.jsx(Ft,m({component:"div",className:F(C.root,b),ref:n,role:null,ownerState:v,tabIndex:null},S,{children:y==="left"?o.jsx(u,m({},I)):o.jsx(W,m({},_))}))});function Ht(e){return ge("MuiTabs",e)}const me=xe("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Xt=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],_e=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,De=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,le=(e,t,n)=>{let i=!1,l=n(e,t);for(;l;){if(l===e.firstChild){if(i)return;i=!0}const a=l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||a)l=n(e,l);else{l.focus();return}}},Ut=e=>{const{vertical:t,fixed:n,hideScrollbar:i,scrollableX:l,scrollableY:a,centered:b,scrollButtonsHideMobile:h,classes:f}=e;return Se({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",i&&"hideScrollbar",l&&"scrollableX",a&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",b&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",h&&"scrollButtonsHideMobile"],scrollableX:[l&&"scrollableX"],hideScrollbar:[i&&"hideScrollbar"]},Ht,f)},Vt=Y("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${me.scrollButtons}`]:t.scrollButtons},{[`& .${me.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>m({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${me.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),Yt=Y("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})(({ownerState:e})=>m({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Kt=Y("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})(({ownerState:e})=>m({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),Gt=Y("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>m({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),qt=Y(Lt)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Ae={},Jt=c.forwardRef(function(t,n){const i=ve({props:t,name:"MuiTabs"}),l=ye(),a=Xe(),{"aria-label":b,"aria-labelledby":h,action:f,centered:y=!1,children:S,className:w,component:v="div",allowScrollButtonsMobile:C=!1,indicatorColor:u="primary",onChange:W,orientation:I="horizontal",ScrollButtonComponent:_=$t,scrollButtons:R="auto",selectionFollowsFocus:B,slots:x={},slotProps:T={},TabIndicatorProps:K={},TabScrollButtonProps:$={},textColor:te="primary",value:G,variant:O="standard",visibleScrollbar:ce=!1}=i,Ye=ie(i,Xt),P=O==="scrollable",E=I==="vertical",J=E?"scrollTop":"scrollLeft",oe=E?"top":"left",re=E?"bottom":"right",de=E?"clientHeight":"clientWidth",Q=E?"height":"width",H=m({},i,{component:v,allowScrollButtonsMobile:C,indicatorColor:u,orientation:I,vertical:E,scrollButtons:R,textColor:te,variant:O,visibleScrollbar:ce,fixed:!P,hideScrollbar:P&&!ce,scrollableX:P&&!E,scrollableY:P&&E,centered:y&&!P,scrollButtonsHideMobile:!C}),D=Ut(H),Ke=ae({elementType:x.StartScrollButtonIcon,externalSlotProps:T.startScrollButtonIcon,ownerState:H}),Ge=ae({elementType:x.EndScrollButtonIcon,externalSlotProps:T.endScrollButtonIcon,ownerState:H}),[Ce,qe]=c.useState(!1),[X,we]=c.useState(Ae),[Be,Je]=c.useState(!1),[je,Qe]=c.useState(!1),[Ie,Ze]=c.useState(!1),[Te,et]=c.useState({overflow:"hidden",scrollbarWidth:0}),ke=new Map,L=c.useRef(null),U=c.useRef(null),We=()=>{const r=L.current;let s;if(r){const d=r.getBoundingClientRect();s={clientWidth:r.clientWidth,scrollLeft:r.scrollLeft,scrollTop:r.scrollTop,scrollLeftNormalized:It(r,a?"rtl":"ltr"),scrollWidth:r.scrollWidth,top:d.top,bottom:d.bottom,left:d.left,right:d.right}}let p;if(r&&G!==!1){const d=U.current.children;if(d.length>0){const g=d[ke.get(G)];p=g?g.getBoundingClientRect():null}}return{tabsMeta:s,tabMeta:p}},Z=be(()=>{const{tabsMeta:r,tabMeta:s}=We();let p=0,d;if(E)d="top",s&&r&&(p=s.top-r.top+r.scrollTop);else if(d=a?"right":"left",s&&r){const j=a?r.scrollLeftNormalized+r.clientWidth-r.scrollWidth:r.scrollLeft;p=(a?-1:1)*(s[d]-r[d]+j)}const g={[d]:p,[Q]:s?s[Q]:0};if(isNaN(X[d])||isNaN(X[Q]))we(g);else{const j=Math.abs(X[d]-g[d]),M=Math.abs(X[Q]-g[Q]);(j>=1||M>=1)&&we(g)}}),ue=(r,{animation:s=!0}={})=>{s?Mt(J,L.current,r,{duration:l.transitions.duration.standard}):L.current[J]=r},Re=r=>{let s=L.current[J];E?s+=r:(s+=r*(a?-1:1),s*=a&&Ve()==="reverse"?-1:1),ue(s)},Ee=()=>{const r=L.current[de];let s=0;const p=Array.from(U.current.children);for(let d=0;d<p.length;d+=1){const g=p[d];if(s+g[de]>r){d===0&&(s=r);break}s+=g[de]}return s},tt=()=>{Re(-1*Ee())},ot=()=>{Re(Ee())},rt=c.useCallback(r=>{et({overflow:null,scrollbarWidth:r})},[]),nt=()=>{const r={};r.scrollbarSizeListener=P?o.jsx(qt,{onChange:rt,className:F(D.scrollableX,D.hideScrollbar)}):null;const p=P&&(R==="auto"&&(Be||je)||R===!0);return r.scrollButtonStart=p?o.jsx(_,m({slots:{StartScrollButtonIcon:x.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Ke},orientation:I,direction:a?"right":"left",onClick:tt,disabled:!Be},$,{className:F(D.scrollButtons,$.className)})):null,r.scrollButtonEnd=p?o.jsx(_,m({slots:{EndScrollButtonIcon:x.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Ge},orientation:I,direction:a?"left":"right",onClick:ot,disabled:!je},$,{className:F(D.scrollButtons,$.className)})):null,r},Pe=be(r=>{const{tabsMeta:s,tabMeta:p}=We();if(!(!p||!s)){if(p[oe]<s[oe]){const d=s[J]+(p[oe]-s[oe]);ue(d,{animation:r})}else if(p[re]>s[re]){const d=s[J]+(p[re]-s[re]);ue(d,{animation:r})}}}),ne=be(()=>{P&&R!==!1&&Ze(!Ie)});c.useEffect(()=>{const r=$e(()=>{L.current&&Z()});let s;const p=j=>{j.forEach(M=>{M.removedNodes.forEach(ee=>{var A;(A=s)==null||A.unobserve(ee)}),M.addedNodes.forEach(ee=>{var A;(A=s)==null||A.observe(ee)})}),r(),ne()},d=He(L.current);d.addEventListener("resize",r);let g;return typeof ResizeObserver<"u"&&(s=new ResizeObserver(r),Array.from(U.current.children).forEach(j=>{s.observe(j)})),typeof MutationObserver<"u"&&(g=new MutationObserver(p),g.observe(U.current,{childList:!0})),()=>{var j,M;r.clear(),d.removeEventListener("resize",r),(j=g)==null||j.disconnect(),(M=s)==null||M.disconnect()}},[Z,ne]),c.useEffect(()=>{const r=Array.from(U.current.children),s=r.length;if(typeof IntersectionObserver<"u"&&s>0&&P&&R!==!1){const p=r[0],d=r[s-1],g={root:L.current,threshold:.99},j=fe=>{Je(!fe[0].isIntersecting)},M=new IntersectionObserver(j,g);M.observe(p);const ee=fe=>{Qe(!fe[0].isIntersecting)},A=new IntersectionObserver(ee,g);return A.observe(d),()=>{M.disconnect(),A.disconnect()}}},[P,R,Ie,S?.length]),c.useEffect(()=>{qe(!0)},[]),c.useEffect(()=>{Z()}),c.useEffect(()=>{Pe(Ae!==X)},[Pe,X]),c.useImperativeHandle(f,()=>({updateIndicator:Z,updateScrollButtons:ne}),[Z,ne]);const Me=o.jsx(Gt,m({},K,{className:F(D.indicator,K.className),ownerState:H,style:m({},X,K.style)}));let se=0;const st=c.Children.map(S,r=>{if(!c.isValidElement(r))return null;const s=r.props.value===void 0?se:r.props.value;ke.set(s,se);const p=s===G;return se+=1,c.cloneElement(r,m({fullWidth:O==="fullWidth",indicator:p&&!Ce&&Me,selected:p,selectionFollowsFocus:B,onChange:W,textColor:te,value:s},se===1&&G===!1&&!r.props.tabIndex?{tabIndex:0}:{}))}),lt=r=>{const s=U.current,p=it(s).activeElement;if(p.getAttribute("role")!=="tab")return;let g=I==="horizontal"?"ArrowLeft":"ArrowUp",j=I==="horizontal"?"ArrowRight":"ArrowDown";switch(I==="horizontal"&&a&&(g="ArrowRight",j="ArrowLeft"),r.key){case g:r.preventDefault(),le(s,p,De);break;case j:r.preventDefault(),le(s,p,_e);break;case"Home":r.preventDefault(),le(s,null,_e);break;case"End":r.preventDefault(),le(s,null,De);break}},pe=nt();return o.jsxs(Vt,m({className:F(D.root,w),ownerState:H,ref:n,as:v},Ye,{children:[pe.scrollButtonStart,pe.scrollbarSizeListener,o.jsxs(Yt,{className:D.scroller,ownerState:H,style:{overflow:Te.overflow,[E?`margin${a?"Left":"Right"}`:"marginBottom"]:ce?void 0:-Te.scrollbarWidth},ref:L,children:[o.jsx(Kt,{"aria-label":b,"aria-labelledby":h,"aria-orientation":I==="vertical"?"vertical":null,className:D.flexContainer,ownerState:H,onKeyDown:lt,ref:U,role:"tablist",children:st}),Ce&&Me]}),pe.scrollButtonEnd]}))});function Qt({order:e,onView:t}){const n=ye(),[i,l]=c.useState(!1),a=u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(u),b=u=>new Date(u).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}),h=u=>{switch(u){case"pending":return"warning";case"confirmed":return"info";case"shipped":return"primary";case"delivered":return"success";case"cancelled":return"error";default:return"default"}},f=u=>{switch(u){case"pending":return"Menunggu Konfirmasi";case"confirmed":return"Dikonfirmasi";case"shipped":return"Dikirim";case"delivered":return"Selesai";case"cancelled":return"Dibatalkan";default:return u}},y=u=>{switch(u){case"unpaid":return"error";case"paid":return"success";case"failed":return"error";case"refunded":return"warning";default:return"default"}},S=u=>{switch(u){case"unpaid":return"Belum Dibayar";case"paid":return"Sudah Dibayar";case"failed":return"Gagal Bayar";case"refunded":return"Dikembalikan";default:return u}},w=async()=>{if(window.confirm("Apakah Anda yakin ingin membatalkan pesanan ini?"))try{l(!0),(await Ue.cancelOrder(e.id)).success&&window.location.reload()}catch(u){console.error("Error cancelling order:",u),alert(u.response?.data?.error||"Gagal membatalkan pesanan")}finally{l(!1)}},v=e.status==="pending",C=e.order_items[0]?.product_variant?.product?.product_images?.[0]?.image_name;return o.jsx(ht,{sx:{border:`1px solid ${n.palette.grey[200]}`,borderRadius:3,transition:"all 0.2s ease","&:hover":{boxShadow:"0 8px 24px rgba(0,0,0,0.12)",transform:"translateY(-2px)"}},children:o.jsx(mt,{children:o.jsxs(V,{direction:{xs:"column",sm:"row"},spacing:3,alignItems:"flex-start",children:[o.jsxs(z,{sx:{flex:1,minWidth:0},children:[o.jsxs(V,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",sx:{mb:2},children:[o.jsxs(z,{children:[o.jsxs(k,{variant:"h6",fontWeight:600,sx:{mb:.5},children:["Order #",e.id.slice(-8).toUpperCase()]}),o.jsx(k,{variant:"body2",color:"text.secondary",children:b(e.created_at)})]}),o.jsxs(V,{direction:"row",spacing:1,children:[o.jsx(ze,{label:f(e.status),color:h(e.status),size:"small",variant:"outlined"}),o.jsx(ze,{label:S(e.payment_status),color:y(e.payment_status),size:"small",variant:"outlined"})]})]}),o.jsxs(V,{direction:"row",spacing:2,alignItems:"center",sx:{mb:2},children:[o.jsx(ct,{src:C||`https://placehold.co/50x50/9682DB/FFFFFF/png?text=${encodeURIComponent(e.order_items[0]?.product_variant?.product?.name||"Order")}`,alt:"Order items",sx:{width:50,height:50,borderRadius:2,flexShrink:0},variant:"rounded",children:o.jsx(dt,{})}),o.jsxs(z,{sx:{flex:1,minWidth:0},children:[o.jsxs(k,{variant:"subtitle2",fontWeight:600,sx:{mb:.5},children:[e.order_items.length," item",e.order_items.length>1&&"s"]}),o.jsxs(k,{variant:"body2",color:"text.secondary",noWrap:!0,children:[e.order_items[0]?.product_variant?.product?.name,e.order_items.length>1&&` dan ${e.order_items.length-1} item lainnya`]})]})]}),o.jsxs(k,{variant:"body2",color:"text.secondary",sx:{mb:1},children:[o.jsx("strong",{children:"Alamat:"})," ",e.address.address_line,", ",e.address.city,", ",e.address.province]}),e.shipping?.tracking_number&&o.jsxs(k,{variant:"body2",color:"primary.main",sx:{mb:1},children:[o.jsx("strong",{children:"No. Resi:"})," ",e.shipping.tracking_number]})]}),o.jsxs(z,{sx:{textAlign:{xs:"left",sm:"right"},minWidth:{xs:"auto",sm:"200px"}},children:[o.jsx(k,{variant:"h6",color:"primary.main",fontWeight:700,sx:{mb:1},children:a(e.total_amount+e.shipping_cost)}),o.jsxs(k,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Total: ",a(e.total_amount)," +",o.jsx("br",{}),"Ongkir: ",a(e.shipping_cost)]}),o.jsxs(V,{direction:{xs:"row",sm:"column"},spacing:1,children:[o.jsx(Oe,{variant:"contained",size:"small",startIcon:o.jsx(xt,{}),onClick:()=>t(e),sx:{borderRadius:2,fontWeight:600,flex:{xs:1,sm:"none"}},children:"Lihat Detail"}),v&&o.jsx(Oe,{variant:"outlined",size:"small",startIcon:o.jsx(gt,{}),onClick:w,disabled:i,color:"error",sx:{borderRadius:2,fontWeight:600,flex:{xs:1,sm:"none"}},children:i?"Membatalkan...":"Batalkan"})]})]})]})})})}function bo(){const e=ye(),t=ut(),[n,i]=c.useState(!0),[l,a]=c.useState(null),[b,h]=c.useState([]),[f,y]=c.useState(0),[S,w]=c.useState({page:1,limit:10,total:0,pages:0}),{setOrders:v}=bt(),C=[{label:"Semua",value:""},{label:"Pending",value:"pending"},{label:"Confirmed",value:"confirmed"},{label:"Shipped",value:"shipped"},{label:"Delivered",value:"delivered"},{label:"Cancelled",value:"cancelled"}],u=async(B={})=>{try{i(!0),a(null);const x={page:S.page,limit:S.limit,...B},T=await Ue.getUserOrders(x);T.success?(h(T.data),v(T.data),w(T.pagination)):a("Gagal memuat pesanan")}catch(x){console.error("Error fetching orders:",x),a(x.response?.data?.error||"Gagal memuat pesanan")}finally{i(!1)}},W=(B,x)=>{y(x);const T=C[x].value;u({status:T})},I=(B,x)=>{const T=C[f].value;u({page:x,status:T})},_=B=>{t(`/orders/${B.id}`)};c.useEffect(()=>{u()},[]);const R=()=>o.jsx(V,{spacing:2,children:[...Array(3)].map((B,x)=>o.jsx(jt,{variant:"rectangular",height:150,sx:{borderRadius:2}},x))});return o.jsx(z,{sx:{minHeight:"100vh",py:4},children:o.jsxs(pt,{maxWidth:"xl",children:[o.jsxs(vt,{sx:{mb:4},children:[o.jsxs(he,{component:"button",variant:"body2",onClick:()=>t("/"),sx:{display:"flex",alignItems:"center",textDecoration:"none",color:"text.secondary","&:hover":{color:"primary.main"}},children:[o.jsx(ft,{sx:{mr:.5,fontSize:"1rem"}}),"Beranda"]}),o.jsxs(he,{component:"button",variant:"body2",onClick:()=>t("/products"),sx:{display:"flex",alignItems:"center",textDecoration:"none",color:"text.secondary","&:hover":{color:"primary.main"}},children:[o.jsx(St,{sx:{mr:.5,fontSize:"1rem"}}),"Produk"]}),o.jsxs(k,{variant:"body2",color:"text.primary",sx:{display:"flex",alignItems:"center"},children:[o.jsx(Le,{sx:{mr:.5,fontSize:"1rem"}}),"Pesanan"]})]}),o.jsxs(z,{sx:{mb:4},children:[o.jsx(k,{variant:"h4",fontWeight:700,sx:{mb:1},children:"Daftar Pesanan"}),o.jsx(k,{variant:"body1",color:"text.secondary",children:"Kelola dan lacak pesanan Anda"})]}),l&&o.jsx(yt,{severity:"error",sx:{mb:4},onClose:()=>a(null),children:l}),o.jsx(z,{sx:{borderBottom:1,borderColor:"divider",mb:4},children:o.jsx(Jt,{value:f,onChange:W,variant:"scrollable",scrollButtons:"auto",children:C.map((B,x)=>o.jsx(Et,{label:B.label},x))})}),n?R():b.length===0?o.jsxs(z,{sx:{textAlign:"center",py:8,px:4,borderRadius:3,background:"linear-gradient(135deg, #faf8ff 0%, #f0f4ff 100%)",border:`1px solid ${e.palette.primary.light}20`},children:[o.jsx(Le,{sx:{fontSize:64,color:"text.secondary",mb:2}}),o.jsx(k,{variant:"h6",color:"text.secondary",fontWeight:600,sx:{mb:1},children:"Belum Ada Pesanan"}),o.jsx(k,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Mulai berbelanja untuk melihat pesanan Anda di sini"}),o.jsx(z,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:o.jsx(he,{component:"button",variant:"button",onClick:()=>t("/products"),sx:{px:3,py:1.5,borderRadius:2,backgroundColor:"primary.main",color:"white",textDecoration:"none",fontWeight:600,"&:hover":{backgroundColor:"primary.dark"}},children:"Mulai Berbelanja"})})]}):o.jsx(V,{spacing:3,children:b.map(B=>o.jsx(Qt,{order:B,onView:_},B.id))}),!n&&!l&&b.length>0&&S.pages>1&&o.jsx(z,{sx:{display:"flex",justifyContent:"center",mt:6},children:o.jsx(Bt,{count:S.pages,page:S.page,onChange:I,color:"primary",size:"large",sx:{"& .MuiPaginationItem-root":{borderRadius:2,fontWeight:600}}})})]})})}export{bo as default};
