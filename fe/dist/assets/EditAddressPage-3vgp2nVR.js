import{u as v,a as b,Q as k,r as t,j as e,B as n,C as d,$ as c,a0 as S,al as E,a9 as C,T as l}from"./index-DVLSGWYZ.js";import{a as I}from"./addressApi-B6xq4cwq.js";import{u as B,A as W}from"./AddressForm-D_yK3ywd.js";import{S as D}from"./Skeleton-KFRaNZZc.js";import{A as H}from"./Alert-DeMLxQ5q.js";import{B as z}from"./Breadcrumbs-CTwzKUk5.js";import"./FormControlLabel-BjLk7wiJ.js";import"./Switch-DZq5obZm.js";function N(){v();const a=b(),{id:o}=k(),[m,u]=t.useState(null),[f,i]=t.useState(!0),[x,r]=t.useState(null),{updateAddress:p}=B(),y=async()=>{if(!o){r("ID alamat tidak ditemukan"),i(!1);return}try{i(!0),r(null);const s=await I.getAddresses();if(s.success){const h=s.data.find(A=>A.id===o);h?u(h):r("Alamat tidak ditemukan")}else r("Gagal memuat alamat")}catch(s){console.error("Error fetching address:",s),r(s.response?.data?.error||"Gagal memuat alamat")}finally{i(!1)}},j=s=>{p(s.id,s),a("/addresses")},g=()=>{a("/addresses")};return t.useEffect(()=>{y()},[o]),f?e.jsx(n,{sx:{minHeight:"100vh",py:4},children:e.jsx(d,{maxWidth:"md",children:e.jsx(D,{variant:"rectangular",height:400,sx:{borderRadius:3}})})}):x||!m?e.jsx(n,{sx:{minHeight:"100vh",py:4},children:e.jsx(d,{maxWidth:"md",children:e.jsx(H,{severity:"error",sx:{maxWidth:600,mx:"auto"},children:x||"Alamat tidak ditemukan"})})}):e.jsx(n,{sx:{minHeight:"100vh",py:4},children:e.jsxs(d,{maxWidth:"md",children:[e.jsxs(z,{sx:{mb:4},children:[e.jsxs(c,{component:"button",variant:"body2",onClick:()=>a("/"),sx:{display:"flex",alignItems:"center",textDecoration:"none",color:"text.secondary","&:hover":{color:"primary.main"}},children:[e.jsx(S,{sx:{mr:.5,fontSize:"1rem"}}),"Beranda"]}),e.jsxs(c,{component:"button",variant:"body2",onClick:()=>a("/profile"),sx:{display:"flex",alignItems:"center",textDecoration:"none",color:"text.secondary","&:hover":{color:"primary.main"}},children:[e.jsx(E,{sx:{mr:.5,fontSize:"1rem"}}),"Profil"]}),e.jsxs(c,{component:"button",variant:"body2",onClick:()=>a("/addresses"),sx:{display:"flex",alignItems:"center",textDecoration:"none",color:"text.secondary","&:hover":{color:"primary.main"}},children:[e.jsx(C,{sx:{mr:.5,fontSize:"1rem"}}),"Alamat"]}),e.jsx(l,{variant:"body2",color:"text.primary",children:"Edit Alamat"})]}),e.jsxs(n,{sx:{mb:4},children:[e.jsx(l,{variant:"h4",fontWeight:700,sx:{mb:1},children:"Edit Alamat"}),e.jsx(l,{variant:"body1",color:"text.secondary",children:"Ubah informasi alamat pengiriman Anda"})]}),e.jsx(W,{address:m,onSuccess:j,onCancel:g})]})})}export{N as default};
