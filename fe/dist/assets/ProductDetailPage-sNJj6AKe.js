import{c as ut,j as t,p as gt,Z,a8 as ft,q as bt,r as l,a9 as vt,J as yt,B as a,C as E,aa as jt,T as n,x,I as _t,M as _,ab as kt,v as I,ac as St,D as wt,ad as Ct,ae as h}from"./index-tvCmUXkA.js";import{p as zt}from"./productApi-BCyrg4MI.js";import{a as W}from"./image-CeHRN-zl.js";import{u as It}from"./useCurrencyConversion-DM705tyN.js";import{S as y}from"./Skeleton-DwS8Noa7.js";import{A as Y}from"./Alert-iJ2nvuQL.js";import{C as $,a as P}from"./CardContent-BO7gwO4c.js";import{A as Wt}from"./Avatar-Cw6JEpzV.js";import{R as $t}from"./Remove-D5GIL9Rw.js";import{A as Pt}from"./Add-DOZR1gGR.js";import"./useSlot-Dd61XFNI.js";const Ht=ut(t.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share");function Kt(){const b=gt(),tt=Z(b.breakpoints.down("sm")),et=Z(b.breakpoints.down("md")),{id:g}=ft(),rt=bt(),{formatPrice:d,formatPriceRange:D}=It(),[e,st]=l.useState(null),[at,L]=l.useState(!0),[G,H]=l.useState(null),[v,p]=l.useState(null),[Tt,At]=l.useState(0),[u,k]=l.useState(1),[o,T]=l.useState(null),[U,A]=l.useState({}),[N,V]=l.useState(!1),{addItem:it,isLoading:Vt,error:Mt}=vt(),{user:ot}=yt(),nt=async()=>{if(g)try{L(!0),H(null);const r=await zt.getProductById(g);r.success?st(r.data):H("Produk tidak ditemukan")}catch(r){console.error("Error fetching product:",r),H("Gagal memuat produk")}finally{L(!1)}},mt=()=>{if(!e)return;const r=e.product_variants&&e.product_variants.length>0,i=r?e.product_variants.reduce((m,c)=>m+c.stock,0):e.stock;let s=1;r&&e.product_variants?e.product_variants.length===1?s=e.product_variants[0].stock||1:o&&(s=o.stock||1):s=i||1,u<s?k(u+1):h.error(`Maksimal ${s} unit`,{duration:2e3,position:"bottom-right"})},ct=()=>{u>1&&k(u-1)},S=()=>{if(!e)return 1;const r=e.product_variants&&e.product_variants.length>0,i=r?e.product_variants.reduce((s,m)=>s+m.stock,0):e.stock;return r&&e.product_variants?e.product_variants.length===1?e.product_variants[0].stock||1:o&&o.stock||1:i||1},lt=async()=>{if(!e||!ot){rt("/login");return}const r=e.product_variants&&e.product_variants.length>0;if(r&&e.product_variants&&e.product_variants.length>1&&!o){h.error("Pilih varian terlebih dahulu",{duration:3e3,position:"bottom-right"});return}try{V(!0);let i;if(r&&e.product_variants)if(e.product_variants.length===1)i=e.product_variants[0].id;else{if(!o){V(!1),h.error("Pilih varian terlebih dahulu",{duration:3e3,position:"bottom-right"});return}i=o.id}else i=e.id;await it({product_variant_id:i,quantity:u}),h.success("Item berhasil ditambahkan ke keranjang!",{duration:3e3,position:"bottom-right",icon:"ðŸ›’"}),k(1)}catch(i){console.error("Error adding to cart:",i),h.error(i.response?.data?.error||"Gagal menambahkan item ke keranjang",{duration:4e3,position:"bottom-right"})}finally{V(!1)}},dt=async()=>{if(!e||!g)return;const r=`${window.location.origin}/products/${g}`;let i="";if(e.product_variants&&e.product_variants.length>0)if(e.product_variants.length===1)i=d(Number(e.product_variants[0].price));else{const z=e.product_variants.map(ht=>Number(ht.price)),R=Math.min(...z),X=Math.max(...z);R===X?i=d(R):i=`${d(R)} - ${d(X)}`}else i=d(Number(e.price));let s="";e.product_variants&&e.product_variants.length>1&&(s=`${e.product_variants.length} VARIAN`);const m=e.category?e.category.name.toUpperCase():"";let c=`Temukan ${e.name.toUpperCase()}`;s&&(c+=` ${s}`),m&&(c+=` ${m}`),c+=` seharga ${i}. Dapatkan sekarang juga di Hexa Crochet! ${r}`;const C=`${e.name} - Hexa Crochet`;if(navigator.share)try{await navigator.share({title:C,text:c,url:r}),h.success("Berhasil membagikan produk!",{duration:2e3,position:"bottom-right"})}catch(z){z.name!=="AbortError"&&await O(c)}else await O(c)},O=async r=>{try{await navigator.clipboard.writeText(r),h.success("Link produk berhasil disalin ke clipboard!",{duration:3e3,position:"bottom-right",icon:"ðŸ“‹"})}catch{const s=document.createElement("textarea");s.value=r,s.style.position="fixed",s.style.left="-999999px",s.style.top="-999999px",document.body.appendChild(s),s.focus(),s.select();try{document.execCommand("copy"),h.success("Link produk berhasil disalin ke clipboard!",{duration:3e3,position:"bottom-right",icon:"ðŸ“‹"})}catch{h.error("Gagal menyalin link. Silakan salin manual.",{duration:3e3,position:"bottom-right"})}finally{document.body.removeChild(s)}}};l.useEffect(()=>{if(e){const r=M(e);if(p(r?r.image_name:null),T(null),A({}),e.product_variants&&e.product_variants.length===1){const i=e.product_variants[0];T(i);const s={};i.variant_options?.forEach(m=>{s[m.option_name]=m.option_value}),A(s),i.image?p(i.image):i.display_image&&p(i.display_image)}}},[e]);const xt=()=>{if(!e?.product_variants)return{};const r={};return e.product_variants.forEach(i=>{i.variant_options?.forEach(s=>{r[s.option_name]||(r[s.option_name]=[]),r[s.option_name].includes(s.option_value)||r[s.option_name].push(s.option_value)})}),r},pt=(r,i)=>{const s={...U,[r]:i};A(s);const m=e?.product_variants?.find(c=>c.variant_options?.every(C=>s[C.option_name]===C.option_value));if(m){if(T(m),m.image)p(m.image);else if(m.display_image)p(m.display_image);else if(e){const c=M(e);p(c?c.image_name:null)}}},M=r=>r.product_images&&r.product_images.length>0?r.product_images.find(s=>s.is_primary)||r.product_images[0]:null;if(l.useEffect(()=>{nt()},[g]),at)return t.jsx(a,{sx:{minHeight:"100vh",py:{xs:2,sm:4}},children:t.jsxs(E,{maxWidth:"xl",sx:{px:{xs:2,sm:3}},children:[t.jsx(y,{variant:"rectangular",height:{xs:280,sm:350,md:400},sx:{mb:{xs:2,sm:4},borderRadius:2}}),t.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:{xs:2,sm:3,md:4}},children:[t.jsxs(a,{sx:{flex:{xs:"1 1 100%",md:1},width:{xs:"100%",md:"auto"}},children:[t.jsx(y,{variant:"text",height:{xs:32,sm:40,md:48},sx:{mb:2}}),t.jsx(y,{variant:"text",height:{xs:24,sm:28},sx:{mb:2,width:"60%"}}),t.jsx(y,{variant:"text",height:{xs:20,sm:24},sx:{mb:{xs:2,sm:4},width:"80%"}}),t.jsx(y,{variant:"rectangular",height:{xs:150,sm:200},sx:{borderRadius:2}})]}),t.jsx(a,{sx:{width:{xs:"100%",md:300},display:{xs:"none",md:"block"}},children:t.jsx(y,{variant:"rectangular",height:300,sx:{borderRadius:2}})})]})]})});if(G||!e)return t.jsx(a,{sx:{minHeight:"100vh",py:{xs:2,sm:4}},children:t.jsx(E,{maxWidth:"xl",sx:{px:{xs:2,sm:3}},children:t.jsx(Y,{severity:"error",sx:{maxWidth:{xs:"100%",sm:600},mx:{xs:0,sm:"auto"},fontSize:{xs:"0.875rem",sm:"1rem"}},children:G||"Produk tidak ditemukan"})})});const f=e.product_variants&&e.product_variants.length>0,B=f&&e.product_variants&&e.product_variants.length>1,w=M(e),F=v||(w?w.image_name:null),Q=xt(),K=f?e.product_variants.reduce((r,i)=>r+i.stock,0):e.stock,j=e?v?W(v):e.product_images&&e.product_images.length>0?W(e.product_images.find(r=>r.is_primary)?.image_name||e.product_images[0].image_name):`${window.location.origin}/images/product-placeholder.png`:"",q=j&&!j.startsWith("http")?`${window.location.origin}${j.startsWith("/")?"":"/"}${j}`:j,J=e?e.product_variants&&e.product_variants.length>0?e.product_variants.length===1?d(Number(e.product_variants[0].price)):D(e.product_variants):d(Number(e.price)):"";return t.jsxs(a,{sx:{minHeight:"100vh",py:{xs:2,sm:4}},children:[e&&t.jsxs(jt,{children:[t.jsxs("title",{children:[e.name," - Hexa Crochet"]}),t.jsx("meta",{name:"description",content:e.description||`${e.name} - Produk berkualitas tinggi dari Hexa Crochet`}),t.jsx("meta",{property:"og:type",content:"product"}),t.jsx("meta",{property:"og:url",content:`${window.location.origin}/products/${g}`}),t.jsx("meta",{property:"og:title",content:`${e.name} - Hexa Crochet`}),t.jsx("meta",{property:"og:description",content:e.description||`${e.name} - Produk berkualitas tinggi dari Hexa Crochet. Harga: ${J}`}),t.jsx("meta",{property:"og:image",content:q}),t.jsx("meta",{property:"og:image:width",content:"1200"}),t.jsx("meta",{property:"og:image:height",content:"630"}),t.jsx("meta",{property:"og:site_name",content:"Hexa Crochet"}),t.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),t.jsx("meta",{name:"twitter:url",content:`${window.location.origin}/products/${g}`}),t.jsx("meta",{name:"twitter:title",content:`${e.name} - Hexa Crochet`}),t.jsx("meta",{name:"twitter:description",content:e.description||`${e.name} - Produk berkualitas tinggi dari Hexa Crochet. Harga: ${J}`}),t.jsx("meta",{name:"twitter:image",content:q}),t.jsx("meta",{property:"product:price:amount",content:e.product_variants&&e.product_variants.length>0?String(e.product_variants[0].price):String(e.price)}),t.jsx("meta",{property:"product:price:currency",content:"IDR"}),t.jsx("meta",{property:"product:availability",content:"in stock"}),t.jsx("meta",{property:"product:condition",content:"new"})]}),t.jsx(E,{maxWidth:"xl",sx:{px:{xs:2,sm:3}},children:t.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:{xs:2,sm:3},alignItems:{xs:"stretch",md:"flex-start"}},children:[t.jsx(a,{sx:{flex:{xs:"1 1 100%",md:"1 1 300px"},width:{xs:"100%",md:"auto"},minWidth:{xs:0,md:300}},children:t.jsx($,{sx:{boxShadow:{xs:1,sm:3}},children:t.jsxs(P,{sx:{p:{xs:2,sm:3}},children:[t.jsx(n,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{fontSize:{xs:"1rem",sm:"1.25rem"},display:{xs:"none",sm:"block"}},children:"Galeri Gambar"}),F?t.jsx(a,{sx:{textAlign:"center",mb:2},children:t.jsx(a,{component:"img",src:W(F),alt:e.name,sx:{width:"100%",height:{xs:280,sm:350,md:400},maxHeight:{xs:"70vh",md:"none"},objectFit:"contain",borderRadius:2,transition:"all 0.3s ease",boxShadow:2,bgcolor:"grey.50"}})}):t.jsx(a,{sx:{textAlign:"center",mb:2},children:t.jsx(Wt,{variant:"rounded",sx:{width:"100%",height:{xs:280,sm:350,md:400},fontSize:{xs:"3rem",sm:"4rem"}},children:e.name.charAt(0).toUpperCase()})}),e.product_images&&e.product_images.length>0?t.jsxs(a,{children:[t.jsxs(n,{variant:"body2",color:"textSecondary",gutterBottom:!0,sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:["Semua Gambar (",e.product_images.length,")"]}),t.jsx(a,{sx:{display:"flex",gap:{xs:.75,sm:1},flexWrap:"wrap",justifyContent:{xs:"flex-start",sm:"center"},overflowX:{xs:"auto",sm:"visible"},pb:{xs:1,sm:0},"&::-webkit-scrollbar":{height:4},"&::-webkit-scrollbar-thumb":{bgcolor:"grey.300",borderRadius:2}},children:e.product_images.sort((r,i)=>(i.is_primary?1:0)-(r.is_primary?1:0)).map(r=>t.jsxs(a,{sx:{position:"relative"},onClick:()=>p(r.image_name),onMouseEnter:()=>p(r.image_name),onMouseLeave:()=>{et||p(w?w.image_name:null)},children:[t.jsx(a,{component:"img",src:W(r.image_name),alt:`${e.name} - ${r.id}`,sx:{width:{xs:60,sm:70},height:{xs:60,sm:70},borderRadius:1,cursor:"pointer",border:v===r.image_name?3:2,borderColor:v===r.image_name?"primary.main":"divider",transition:"all 0.2s ease",opacity:v===r.image_name?1:.7,objectFit:"cover","&:hover":{opacity:1,transform:"scale(1.05)",borderColor:"primary.main"},"&:active":{transform:"scale(0.95)"}}}),r.is_primary&&t.jsx(x,{label:"Utama",size:"small",color:"primary",sx:{position:"absolute",bottom:{xs:-6,sm:-8},left:"50%",transform:"translateX(-50%)",fontSize:{xs:"0.6rem",sm:"0.65rem"},height:{xs:14,sm:16},"& .MuiChip-label":{px:.5}}})]},r.id))})]}):t.jsx(Y,{severity:"info",sx:{mt:2,fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Belum ada gambar produk"})]})})}),t.jsx(a,{sx:{flex:{xs:"1 1 100%",md:"2 1 500px"},width:{xs:"100%",md:"auto"},minWidth:{xs:0,md:500}},children:t.jsx($,{sx:{boxShadow:{xs:1,sm:3}},children:t.jsxs(P,{sx:{p:{xs:2,sm:3}},children:[t.jsxs(a,{sx:{mb:{xs:2,sm:3},display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:2},children:[t.jsx(a,{sx:{flex:1},children:t.jsx(n,{variant:"h5",fontWeight:"bold",gutterBottom:!0,sx:{fontSize:{xs:"1.25rem",sm:"1.5rem",md:"1.75rem"},lineHeight:{xs:1.3,sm:1.4}},children:e.name})}),t.jsx(_t,{onClick:dt,sx:{border:`1px solid ${b.palette.grey[300]}`,color:b.palette.primary.main,width:{xs:40,sm:44},height:{xs:40,sm:44},flexShrink:0,"&:hover":{backgroundColor:b.palette.primary.light+"20",borderColor:b.palette.primary.main},"&:active":{transform:"scale(0.95)"}},children:t.jsx(Ht,{sx:{fontSize:{xs:"1.125rem",sm:"1.25rem"}}})})]}),t.jsx(a,{sx:{mb:{xs:2,sm:3}},children:e.product_variants&&e.product_variants.length>0?t.jsxs(a,{children:[t.jsx(n,{variant:"h4",color:"primary",fontWeight:"bold",sx:{fontSize:{xs:"1.5rem",sm:"2rem",md:"2.125rem"}},children:D(e.product_variants)}),t.jsxs(n,{variant:"body2",color:"textSecondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},mt:.5},children:["Total Stok: ",e.total_stock||0," unit"]})]}):t.jsx(n,{variant:"h4",color:"primary",fontWeight:"bold",sx:{fontSize:{xs:"1.5rem",sm:"2rem",md:"2.125rem"}},children:d(Number(e.price))})}),t.jsx(_,{sx:{mb:{xs:2,sm:3}}}),t.jsxs(a,{sx:{mb:{xs:2,sm:3}},children:[t.jsx(n,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"Deskripsi"}),t.jsx(n,{variant:"body1",color:"textSecondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"},lineHeight:{xs:1.6,sm:1.75},whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e.description||"Tidak ada deskripsi"})]}),t.jsx(_,{sx:{mb:{xs:2,sm:3}}}),t.jsxs(a,{sx:{mb:{xs:2,sm:3}},children:[t.jsx(n,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"Kategori"}),e.category?t.jsxs(a,{children:[t.jsx(x,{label:e.category.name,color:"primary",variant:"outlined",sx:{mb:1,fontSize:{xs:"0.75rem",sm:"0.875rem"},height:{xs:28,sm:32}}}),e.category.description&&t.jsx(n,{variant:"body2",color:"textSecondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:e.category.description})]}):t.jsx(n,{variant:"body2",color:"textSecondary",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Tidak ada kategori"})]}),t.jsx(_,{sx:{mb:{xs:2,sm:3}}}),t.jsxs(a,{sx:{mb:{xs:2,sm:3}},children:[t.jsx(n,{variant:"h6",fontWeight:"bold",gutterBottom:!0,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"Informasi Produksi"}),t.jsxs(a,{sx:{display:"flex",gap:{xs:1,sm:2},flexWrap:"wrap",alignItems:"center"},children:[e.pre_order&&e.pre_order>0?t.jsx(x,{label:`Pre-order ${e.pre_order} hari`,color:"warning",variant:"filled",sx:{fontWeight:"bold",fontSize:{xs:"0.75rem",sm:"0.875rem"},height:{xs:28,sm:32}}}):t.jsx(x,{label:"Tersedia Langsung",color:"success",variant:"filled",sx:{fontWeight:"bold",fontSize:{xs:"0.75rem",sm:"0.875rem"},height:{xs:28,sm:32}}}),e.product_variants&&e.product_variants.length>0?t.jsx(x,{label:`Total Stok: ${e.total_stock||0} unit`,color:(e.total_stock||0)>0?"success":"error",variant:(e.total_stock||0)>0?"filled":"outlined",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},height:{xs:28,sm:32}}}):t.jsx(x,{label:`Stok: ${e.stock||0} unit`,color:(e.stock||0)>0?"success":"error",variant:(e.stock||0)>0?"filled":"outlined",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},height:{xs:28,sm:32}}})]}),t.jsx(n,{variant:"body2",color:"textSecondary",sx:{mt:1,fontSize:{xs:"0.75rem",sm:"0.875rem"},lineHeight:{xs:1.5,sm:1.6}},children:e.pre_order&&e.pre_order>0?`Produk ini membutuhkan ${e.pre_order} hari untuk dibuat setelah order`:"Produk tersedia langsung dan siap dikirim"})]}),B&&Object.keys(Q).length>0&&t.jsxs(kt.Fragment,{children:[t.jsx(_,{sx:{mb:{xs:2,sm:3}}}),t.jsxs(a,{sx:{mb:{xs:2,sm:3}},children:[t.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0},mb:2},children:[t.jsx(n,{variant:"h6",fontWeight:"bold",gutterBottom:!1,sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:"Pilih Varian"}),e.product_variants&&e.product_variants.length>0?t.jsx(x,{label:`${e.product_variants.length} Varian`,color:"primary",size:"small",variant:"filled",sx:{fontWeight:"bold",bgcolor:"primary.main",color:"white",border:"1px solid",borderColor:"primary.dark",letterSpacing:.5,fontSize:{xs:"0.7rem",sm:"0.75rem"},height:{xs:24,sm:28}}}):t.jsx(x,{label:`Stok: ${e.stock||0}`,color:(e.stock||0)>0?"success":"error",size:"small",variant:(e.stock||0)>0?"filled":"outlined",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"},height:{xs:24,sm:28}}})]}),Object.entries(Q).map(([r,i])=>t.jsxs(a,{sx:{mb:{xs:1.5,sm:2}},children:[t.jsx(n,{variant:"subtitle2",fontWeight:"bold",gutterBottom:!0,sx:{fontSize:{xs:"0.875rem",sm:"1rem"},mb:1},children:r}),t.jsx(a,{sx:{display:"flex",gap:{xs:.75,sm:1},flexWrap:"wrap"},children:i.map(s=>{const m=U[r]===s;return t.jsxs(I,{variant:m?"contained":"outlined",onClick:()=>pt(r,s),size:tt?"medium":"large",sx:{minWidth:{xs:70,sm:80},minHeight:{xs:40,sm:48},borderWidth:2,borderColor:m?"primary.main":"divider",position:"relative",textTransform:"none",fontSize:{xs:"0.75rem",sm:"0.875rem"},px:{xs:1.5,sm:2},"&:hover":{borderWidth:2,borderColor:"primary.main"},"&:active":{transform:"scale(0.95)"}},children:[t.jsx(n,{variant:"body2",fontWeight:m?"bold":"medium",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:s}),m&&t.jsx(a,{sx:{position:"absolute",top:{xs:2,sm:4},right:{xs:2,sm:4},width:{xs:14,sm:16},height:{xs:14,sm:16},bgcolor:"white",color:"primary.main",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:{xs:"10px",sm:"12px"},fontWeight:"bold"},children:"âœ“"})]},s)})})]},r)),o&&t.jsx($,{variant:"outlined",sx:{mb:{xs:2,sm:3},bgcolor:"primary.50",borderColor:"primary.main"},children:t.jsx(P,{sx:{p:{xs:2,sm:3}},children:t.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:{xs:1.5,sm:2}},children:[t.jsxs(a,{sx:{flex:1},children:[t.jsx(n,{variant:"caption",color:"text.secondary",display:"block",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:"Varian Terpilih"}),t.jsx(n,{variant:"h6",fontWeight:"bold",sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:o.variant_name}),t.jsxs(n,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:["SKU: ",o.sku]})]}),t.jsxs(a,{sx:{textAlign:{xs:"left",sm:"right"},width:{xs:"100%",sm:"auto"}},children:[t.jsx(n,{variant:"h4",color:"primary.main",fontWeight:"bold",sx:{fontSize:{xs:"1.5rem",sm:"2rem"}},children:d(Number(o.price))}),t.jsx(x,{label:`Stok: ${o.stock} unit`,size:"small",color:o.stock>0?"success":"error",sx:{mt:.5,fontSize:{xs:"0.7rem",sm:"0.75rem"},height:{xs:24,sm:28}}})]})]})})}),t.jsx(_,{sx:{mb:{xs:2,sm:3}}})]})]}),f&&e.product_variants&&e.product_variants.length===1&&o&&t.jsx(a,{sx:{mb:{xs:2,sm:3}},children:t.jsx($,{variant:"outlined",sx:{bgcolor:"primary.50",borderColor:"primary.main"},children:t.jsx(P,{sx:{p:{xs:2,sm:3}},children:t.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:{xs:1.5,sm:2}},children:[t.jsxs(a,{sx:{flex:1},children:[t.jsx(n,{variant:"caption",color:"text.secondary",display:"block",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:"Varian Tersedia"}),t.jsx(n,{variant:"h6",fontWeight:"bold",sx:{fontSize:{xs:"1rem",sm:"1.25rem"}},children:o.variant_name}),t.jsxs(n,{variant:"caption",color:"text.secondary",sx:{fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:["SKU: ",o.sku]})]}),t.jsxs(a,{sx:{textAlign:{xs:"left",sm:"right"},width:{xs:"100%",sm:"auto"}},children:[t.jsx(n,{variant:"h4",color:"primary.main",fontWeight:"bold",sx:{fontSize:{xs:"1.5rem",sm:"2rem"}},children:d(Number(o.price))}),t.jsx(x,{label:`Stok: ${o.stock} unit`,size:"small",color:o.stock>0?"success":"error",sx:{mt:.5,fontSize:{xs:"0.7rem",sm:"0.75rem"},height:{xs:24,sm:28}}})]})]})})})}),t.jsxs(a,{sx:{mb:{xs:3,sm:4}},children:[t.jsx(St,{component:"legend",sx:{mb:1,fontWeight:600,fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Jumlah:"}),t.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:{xs:1,sm:1.5},width:{xs:"100%",sm:"fit-content"}},children:[t.jsx(I,{variant:"outlined",onClick:ct,disabled:u<=1,sx:{minWidth:{xs:40,sm:44},width:{xs:40,sm:44},height:{xs:40,sm:44},p:0,borderColor:"divider",color:"text.primary","&:hover":{borderColor:"primary.main",bgcolor:"primary.light",color:"primary.main"},"&:disabled":{borderColor:"divider",opacity:.5},"&:active":{transform:"scale(0.95)"}},children:t.jsx($t,{sx:{fontSize:{xs:"1.25rem",sm:"1.5rem"}}})}),t.jsx(wt,{type:"number",value:u,onChange:r=>{const i=parseInt(r.target.value)||1,s=S();k(Math.max(1,Math.min(i,s)))},inputProps:{min:1,max:S(),style:{textAlign:"center"}},sx:{width:{xs:80,sm:100},"& .MuiOutlinedInput-root":{"& input":{fontSize:{xs:"0.875rem",sm:"1rem"},py:{xs:1.25,sm:1},textAlign:"center",fontWeight:600}}},size:"small"}),t.jsx(I,{variant:"outlined",onClick:mt,disabled:u>=S(),sx:{minWidth:{xs:40,sm:44},width:{xs:40,sm:44},height:{xs:40,sm:44},p:0,borderColor:"divider",color:"text.primary","&:hover":{borderColor:"primary.main",bgcolor:"primary.light",color:"primary.main"},"&:disabled":{borderColor:"divider",opacity:.5},"&:active":{transform:"scale(0.95)"}},children:t.jsx(Pt,{sx:{fontSize:{xs:"1.25rem",sm:"1.5rem"}}})})]}),t.jsxs(n,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5,fontSize:{xs:"0.7rem",sm:"0.75rem"}},children:["Maksimal ",S()," unit"]})]}),t.jsx(I,{variant:"contained",size:"large",startIcon:t.jsx(Ct,{}),onClick:lt,disabled:(K||0)===0||N||B&&!o||f&&o&&o.stock===0||f&&e.product_variants&&e.product_variants.length===1&&e.product_variants[0].stock===0,fullWidth:!0,sx:{px:{xs:3,sm:4},py:{xs:1.25,sm:1.5},borderRadius:2,fontWeight:600,fontSize:{xs:"0.875rem",sm:"1rem"},minHeight:{xs:44,sm:48},mb:{xs:2,sm:4},"&:active":{transform:"scale(0.98)"}},children:N?"Menambahkan...":(K||0)===0?"Stok Habis":B&&!o?"Pilih Varian":f&&o&&o.stock===0||f&&e.product_variants&&e.product_variants.length===1&&e.product_variants[0].stock===0?"Stok Habis":"Tambah ke Keranjang"})]})})})]})})]})}export{Kt as default};
