import{q as g,a1 as C,r,j as s,C as o,B as m,ae as b,T as x}from"./index-Idy1NCQZ.js";import{a as E}from"./addressApi-CFRSAVlm.js";import{u as S}from"./addressStore-D5c4QXW1.js";import{A as k}from"./AddressForm-Ce2JXq4u.js";import{A as v}from"./Alert-Cw7awSGM.js";import{C as W,a as P}from"./CardContent-5_xtjPDw.js";import"./FormControlLabel-BVsvLRvY.js";import"./Switch-KooZQEt_.js";function I(){const d=g(),{id:t}=C(),[i,u]=r.useState(null),[p,n]=r.useState(!0),[l,e]=r.useState(null),{updateAddress:f}=S(),h=async()=>{if(!t){e("ID alamat tidak ditemukan"),n(!1);return}try{n(!0),e(null);const a=await E.getAddresses();if(a.success){const c=a.data.find(A=>A.id===t);c?u(c):e("Alamat tidak ditemukan")}else e("Gagal memuat alamat")}catch(a){console.error("Error fetching address:",a),e(a.response?.data?.error||"Gagal memuat alamat")}finally{n(!1)}},j=a=>{f(a.id,a),d("/addresses")},y=()=>{d("/addresses")};return r.useEffect(()=>{h()},[t]),p?s.jsx(o,{maxWidth:"xl",sx:{py:4},children:s.jsx(m,{sx:{display:"flex",justifyContent:"center",py:4},children:s.jsx(b,{})})}):l||!i?s.jsx(o,{maxWidth:"xl",sx:{py:4},children:s.jsx(v,{severity:"error",sx:{mb:3,borderRadius:2},onClose:()=>e(null),children:l||"Alamat tidak ditemukan"})}):s.jsxs(o,{maxWidth:"xl",sx:{py:4},children:[s.jsxs(m,{sx:{mb:4},children:[s.jsx(x,{variant:"h4",component:"h1",sx:{fontWeight:600,color:"text.primary",mb:1},children:"Edit Alamat"}),s.jsx(x,{variant:"body1",color:"text.secondary",children:"Ubah informasi alamat pengiriman Anda"})]}),s.jsx(W,{sx:{borderRadius:2,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:s.jsx(P,{sx:{p:3},children:s.jsx(k,{address:i,onSuccess:j,onCancel:y})})})]})}export{I as default};
